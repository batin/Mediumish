console.log("we are on contact page")

const contactForm = $("#contact-form")
const contactSubmit = $("#contact-submit")
const animationDiv = $("#contact-animation")


function loopAnimationOne() {
        setTimeout(function(){
          contactForm.html('<svg width="292" height="230" viewBox="0 0 292 230" fill="none" xmlns="http://www.w3.org/2000/svg">'+
          '<path d="M97.3231 91.8159C94.3832 86.4995 96.3098 79.8065 101.626 76.8666L231.005 5.32306C236.322 2.3832 243.015 4.30978 245.955 9.62621L286.677 83.2684C289.617 88.5848 287.69 95.2778 282.374 98.2177L152.995 169.761C147.678 172.701 140.985 170.775 138.045 165.458L97.3231 91.8159Z" fill="#007BFF" fill-opacity="0.14"/>'+
          '<path d="M181 78.953L161.981 79.004L107.83 79.1493L229.055 12.1149L198.744 58.5725L185.852 76.461C184.727 78.0212 182.923 78.9478 181 78.953ZM210.511 58.8379L241.319 11.6186C241.411 11.7561 241.498 11.8986 241.579 12.0458L281.597 84.4149L210.511 58.8379ZM204.721 67.3823L279.287 94.2111L151.222 165.028L166.112 88.993L181.027 88.953C186.155 88.9392 190.966 86.4681 193.965 82.3077L204.721 67.3823ZM141.683 161.704L101.699 89.3963C101.657 89.3201 101.616 89.2434 101.578 89.1662L155.917 89.0203L141.683 161.704Z" stroke="black" stroke-opacity="0.26" stroke-width="10"/>'+
          '<path d="M51.5471 199.634C50.3613 200.342 49.9732 201.876 50.6804 203.062C51.3876 204.248 52.9222 204.636 54.108 203.929L51.5471 199.634ZM84.9481 161.466C83.7407 162.136 83.305 163.658 83.9748 164.865C84.6447 166.072 86.1664 166.508 87.3738 165.838L84.9481 161.466ZM26.7714 146.564C25.5689 147.242 25.1442 148.767 25.8227 149.97C26.5013 151.172 28.0261 151.597 29.2286 150.918L26.7714 146.564ZM71.8201 140.822C70.6204 141.505 70.2018 143.032 70.8852 144.231C71.5686 145.431 73.0951 145.85 74.2949 145.166L71.8201 140.822ZM52.9812 167.252C51.7778 167.929 51.351 169.453 52.028 170.656C52.7049 171.86 54.2292 172.287 55.4325 171.61L52.9812 167.252ZM42.7801 123.562C41.6047 124.286 41.2393 125.826 41.9638 127.002C42.6883 128.177 44.2285 128.542 45.4038 127.818L42.7801 123.562ZM90.9885 148.741L92.2142 150.92L92.2203 150.917L90.9885 148.741ZM54.108 203.929L129.28 159.101L126.72 154.807L51.5471 199.634L54.108 203.929ZM118.511 142.845L84.9481 161.466L87.3738 165.838L120.937 147.218L118.511 142.845ZM91.1392 110.242L26.7714 146.564L29.2286 150.918L93.5964 114.597L91.1392 110.242ZM74.2949 145.166L110.617 124.477L108.142 120.132L71.8201 140.822L74.2949 145.166ZM76.3433 102.872L42.7801 123.562L45.4038 127.818L78.967 107.128L76.3433 102.872ZM89.7629 146.562L52.9812 167.252L55.4325 171.61L92.2142 150.92L89.7629 146.562ZM102.86 139.146L96.3085 142.856L98.772 147.207L105.324 143.497L102.86 139.146ZM96.3085 142.856L89.7567 146.566L92.2203 150.917L98.772 147.207L96.3085 142.856Z" fill="#007BFF"/>'+
          '</svg>'

)
        },1000)

        setTimeout(function(){
          loopAnimationTwo()
        },1000)

    }

    function loopAnimationTwo() {
        setTimeout(function(){
          contactForm.html('<svg width="292" height="230" viewBox="0 0 292 230" fill="none" xmlns="http://www.w3.org/2000/svg">'+
          '<path d="M97.3231 91.8159C94.3832 86.4995 96.3098 79.8065 101.626 76.8666L231.005 5.32306C236.322 2.3832 243.015 4.30978 245.955 9.62621L286.677 83.2684C289.617 88.5848 287.69 95.2778 282.374 98.2177L152.995 169.761C147.678 172.701 140.985 170.775 138.045 165.458L97.3231 91.8159Z" fill="#007BFF" fill-opacity="0.14"/>'+
          '<path d="M181 78.953L161.981 79.004L107.83 79.1493L229.055 12.1149L198.744 58.5725L185.852 76.461C184.727 78.0212 182.923 78.9478 181 78.953ZM210.511 58.8379L241.319 11.6186C241.411 11.7561 241.498 11.8986 241.579 12.0458L281.597 84.4149L210.511 58.8379ZM204.721 67.3823L279.287 94.2111L151.222 165.028L166.112 88.993L181.027 88.953C186.155 88.9392 190.966 86.4681 193.965 82.3077L204.721 67.3823ZM141.683 161.704L101.699 89.3963C101.657 89.3201 101.616 89.2434 101.578 89.1662L155.917 89.0203L141.683 161.704Z" stroke="black" stroke-opacity="0.26" stroke-width="10"/>'+
          '<path d="M19.7196 144.079C18.5337 144.786 18.1456 146.321 18.8528 147.507C19.56 148.693 21.0946 149.081 22.2804 148.373L19.7196 144.079ZM74.9669 132.412C73.7595 133.082 73.3238 134.604 73.9936 135.811C74.6634 137.018 76.1852 137.454 77.3925 136.784L74.9669 132.412ZM55.5008 163.076C54.2983 163.755 53.8736 165.28 54.5521 166.482C55.2307 167.685 56.7555 168.11 57.958 167.431L55.5008 163.076ZM55.492 134.329C54.2923 135.012 53.8737 136.539 54.5571 137.738C55.2405 138.938 56.767 139.357 57.9668 138.673L55.492 134.329ZM70.1043 146.789C68.8969 147.458 68.4612 148.98 69.131 150.187C69.8009 151.395 71.3226 151.831 72.53 151.161L70.1043 146.789ZM88.8213 163.126C87.646 163.85 87.2805 165.39 88.0051 166.566C88.7296 167.741 90.2697 168.106 91.4451 167.382L88.8213 163.126ZM22.2804 148.373L91.4136 107.147L88.8528 102.853L19.7196 144.079L22.2804 148.373ZM105.834 115.287L74.9669 132.412L77.3925 136.784L108.259 119.66L105.834 115.287ZM114.697 129.673L55.5008 163.076L57.958 167.431L117.155 134.027L114.697 129.673ZM57.9668 138.673L91.3706 119.646L88.8958 115.301L55.492 134.329L57.9668 138.673ZM100.971 129.664L70.1043 146.789L72.53 151.161L103.397 134.036L100.971 129.664ZM119.688 144.098L88.8213 163.126L91.4451 167.382L122.312 148.354L119.688 144.098Z" fill="#007BFF"/>'+
          '</svg>'



        )
        },1000)
          setTimeout(function(){
            loopAnimationOne()
          },1000)


        }


$.fn.serializeObject = function()
{
    var o = {};
    var a = this.serializeArray();
    $.each(a, function() {
        if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            o[this.name].push(this.value || '');
        } else {
            o[this.name] = this.value || '';
        }
    });
    return o;
};





contactSubmit.click(function(e){
  e.preventDefault()
  const data = JSON.stringify(contactForm.serializeObject())
  console.log(data);


  $.ajax({
    url: "/contact_form.js",
    contentType: "application/json",
    async: false,
    type: "POST",
    data: data,
    success: function() {
                loopAnimationOne()
            }
  })

})
